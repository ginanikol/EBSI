"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createDid = void 0;
const base58_1 = require("multiformats/bases/base58");
const constants_js_1 = require("./constants.js");
function createDid(subjectIdentifierBytes, version = constants_js_1.LEGAL_ENTITY) {
    const bytesArray = new Uint8Array(1 + constants_js_1.EBSI_DID_SPECS[version].BYTE_LENGTH);
    bytesArray.set([constants_js_1.EBSI_DID_SPECS[version].VERSION_ID]);
    if (subjectIdentifierBytes.length !== constants_js_1.EBSI_DID_SPECS[version].BYTE_LENGTH) {
        throw new Error(`Invalid subject identifier length. Expected: ${constants_js_1.EBSI_DID_SPECS[version].BYTE_LENGTH} bytes. Received: ${subjectIdentifierBytes.length} bytes.`);
    }
    bytesArray.set(subjectIdentifierBytes, 1);
    const methodSpecificIdentifier = base58_1.base58btc.encode(bytesArray);
    return `${constants_js_1.EBSI_DID_METHOD_PREFIX}${methodSpecificIdentifier}`;
}
exports.createDid = createDid;
//# sourceMappingURL=util.js.map